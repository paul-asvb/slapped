[gd_scene load_steps=9 format=3 uid="uid://dkn4xp7q2m8rv"]

[ext_resource type="Script" path="res://scripts/tracks/racing_line_setup.gd" id="racing_line_script"]
[ext_resource type="PackedScene" uid="uid://weapon_pickup001" path="res://scenes/powerups/weapon_pickup.tscn" id="weapon_pickup"]

[sub_resource type="BoxShape3D" id="shape_outer_long"]
size = Vector3(260, 4, 4)

[sub_resource type="BoxShape3D" id="shape_outer_short"]
size = Vector3(160, 4, 4)

[sub_resource type="BoxShape3D" id="shape_inner_long"]
size = Vector3(140, 4, 4)

[sub_resource type="BoxShape3D" id="shape_inner_short"]
size = Vector3(60, 4, 4)

[sub_resource type="BoxMesh" id="wall_mesh"]
size = Vector3(1, 4, 4)

[sub_resource type="BoxShape3D" id="shape_kicker"]
size = Vector3(14, 0.5, 16)

[sub_resource type="Environment" id="env"]
background_mode = 1
background_color = Color(0.15, 0.15, 0.2, 1)
ambient_light_source = 2
ambient_light_color = Color(0.4, 0.4, 0.5, 1)

[node name="TestTrack" type="Node3D"]

[node name="Ground" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="Ground"]
size = Vector3(280, 0.5, 180)

[node name="OuterWalls" type="Node3D" parent="."]

[node name="TopWall" type="StaticBody3D" parent="OuterWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -88)

[node name="Collision" type="CollisionShape3D" parent="OuterWalls/TopWall"]
shape = SubResource("shape_outer_long")

[node name="Visual" type="CSGBox3D" parent="OuterWalls/TopWall"]
size = Vector3(260, 4, 4)

[node name="BottomWall" type="StaticBody3D" parent="OuterWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 88)

[node name="Collision" type="CollisionShape3D" parent="OuterWalls/BottomWall"]
shape = SubResource("shape_outer_long")

[node name="Visual" type="CSGBox3D" parent="OuterWalls/BottomWall"]
size = Vector3(260, 4, 4)

[node name="LeftWall" type="StaticBody3D" parent="OuterWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -138, 2, 0)

[node name="Collision" type="CollisionShape3D" parent="OuterWalls/LeftWall"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 0, 0, 0)
shape = SubResource("shape_outer_short")

[node name="Visual" type="CSGBox3D" parent="OuterWalls/LeftWall"]
size = Vector3(4, 4, 160)

[node name="RightWall" type="StaticBody3D" parent="OuterWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 138, 2, 0)

[node name="Collision" type="CollisionShape3D" parent="OuterWalls/RightWall"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 0, 0, 0)
shape = SubResource("shape_outer_short")

[node name="Visual" type="CSGBox3D" parent="OuterWalls/RightWall"]
size = Vector3(4, 4, 160)

[node name="InnerWalls" type="Node3D" parent="."]

[node name="InnerIsland" type="CSGBox3D" parent="InnerWalls"]
size = Vector3(140, 1, 70)

[node name="InnerTop" type="StaticBody3D" parent="InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -37)

[node name="Collision" type="CollisionShape3D" parent="InnerWalls/InnerTop"]
shape = SubResource("shape_inner_long")

[node name="Visual" type="CSGBox3D" parent="InnerWalls/InnerTop"]
size = Vector3(140, 4, 4)

[node name="InnerBottom" type="StaticBody3D" parent="InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 37)

[node name="Collision" type="CollisionShape3D" parent="InnerWalls/InnerBottom"]
shape = SubResource("shape_inner_long")

[node name="Visual" type="CSGBox3D" parent="InnerWalls/InnerBottom"]
size = Vector3(140, 4, 4)

[node name="InnerLeft" type="StaticBody3D" parent="InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -72, 2, 0)

[node name="Collision" type="CollisionShape3D" parent="InnerWalls/InnerLeft"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 0, 0, 0)
shape = SubResource("shape_inner_short")

[node name="Visual" type="CSGBox3D" parent="InnerWalls/InnerLeft"]
size = Vector3(4, 4, 60)

[node name="InnerRight" type="StaticBody3D" parent="InnerWalls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 72, 2, 0)

[node name="Collision" type="CollisionShape3D" parent="InnerWalls/InnerRight"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 0, 0, 0)
shape = SubResource("shape_inner_short")

[node name="Visual" type="CSGBox3D" parent="InnerWalls/InnerRight"]
size = Vector3(4, 4, 60)

[node name="StartLine" type="Node3D" parent="."]

[node name="Line" type="CSGBox3D" parent="StartLine"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 105, 0.3, -62.5)
size = Vector3(1.5, 0.1, 45)

[node name="SpawnPoints" type="Node3D" parent="."]

[node name="Spawn1" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 105, 0, -48)

[node name="Spawn2" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 105, 0, -58)

[node name="Spawn3" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 105, 0, -68)

[node name="Spawn4" type="Marker3D" parent="SpawnPoints"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 105, 0, -78)

[node name="RacingLine" type="Path3D" parent="."]
script = ExtResource("racing_line_script")
racing_points = Array[Vector3]([Vector3(105, 0, -62.5), Vector3(0, 0, -62.5), Vector3(-105, 0, -62.5), Vector3(-105, 0, 0), Vector3(-105, 0, 62.5), Vector3(0, 0, 62.5), Vector3(105, 0, 62.5), Vector3(105, 0, 0)])

[node name="Kickers" type="Node3D" parent="."]

[node name="Kicker1" type="StaticBody3D" parent="Kickers"]
transform = Transform3D(0, 0, 1, 0, 1, 0, -1, 0, 0, 50, 0, -53)

[node name="RampMesh" type="CSGBox3D" parent="Kickers/Kicker1"]
transform = Transform3D(1, 0, 0, 0, 0.906, -0.423, 0, 0.423, 0.906, 0, 1.5, 0)
size = Vector3(14, 0.5, 16)

[node name="RampCollision" type="CollisionShape3D" parent="Kickers/Kicker1"]
transform = Transform3D(1, 0, 0, 0, 0.906, -0.423, 0, 0.423, 0.906, 0, 1.5, 0)
shape = SubResource("shape_kicker")

[node name="PowerUps" type="Node3D" parent="."]

[node name="WeaponPickup1" parent="PowerUps" instance=ExtResource("weapon_pickup")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -50, 0, -62.5)

[node name="WeaponPickup2" parent="PowerUps" instance=ExtResource("weapon_pickup")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -105, 0, 0)

[node name="WeaponPickup3" parent="PowerUps" instance=ExtResource("weapon_pickup")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 62.5)

[node name="Lighting" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Lighting"]
transform = Transform3D(0.866025, -0.353553, 0.353553, 0, 0.707107, 0.707107, -0.5, -0.612372, 0.612372, 0, 50, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="Lighting"]
environment = SubResource("env")
